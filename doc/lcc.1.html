<!-- manual page source format generated by PolyglotMan v3.0.8+X.Org, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
		<meta http-equiv="content-type" content="text/html;charset=utf-8">
		<title>man page(1) manual page</title>
</head>
<body bgcolor='#efefef' text='black' link='blue' vlink='#551A8B' alink='red'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>

<p>
lcc - ANSI C compiler

<p>
<h2><a name='sect1' href='#toc1'><b>Synopsis</b></a></h2>

<p>
<b>lcc</b> [ <i>option</i> | <i>file</i> ]...

<p>
<h2><a name='sect2' href='#toc2'><b>Description</b></a></h2>

<p>
<i>lcc</i> is an ANSI C compiler for a variety of platforms.

<p><p>
Arguments whose names end with ‘.c’ (plus ‘.C’ under Windows) are taken
to be C source programs; they are preprocessed, compiled, and each
object program is left on the file whose name is that of the source
with ‘.o’ (UNIX) or ‘.obj’ (Windows) substituted for the extension.
Arguments whose names end with ‘.i’ are treated similarly, except they
are not preprocessed. In the same way, arguments ending with ‘.s’
(plus ‘.S’, ‘.asm’, and ‘.ASM’, under Windows) are taken to be assembly
source programs and are assembled, producing an object file. If there
are no arguments, <i>lcc</i> summarizes its options on the standard error.

<p><p>
<i>lcc</i> deletes an object file if and only if exactly one source file is
mentioned and no other file (source, object, library) or <b>-l</b> option is
mentioned.

<p><p>
If the environment variable <b>LCCINPUTS</b> is set, <i>lcc</i> assumes it gives a
semicolon- or colon-separated list of directories in which to look for
source and object files whose names do not begin with ‘/’. These
directories are also added to the list of directories searched for
libraries. If <b>LCCINPUTS</b> is defined, it must contain ‘.’ in order for
the current directory to be searched for input files.

<p><p>
<i>lcc</i> uses ANSI standard header files (see ‘FILES’ below). Include files
not found in the ANSI header files are taken from the normal default
include areas, which usually includes <b>/usr/include</b>. Under Windows, if
the environment variable <b>include</b> is defined, it gives a semicolon-separated
list of directories in which to search for header files.

<p><p>
<i>lcc</i> interprets the following options; unrecognized options are taken as
loader options (see <a href='ld.1.html'>ld(1)</a>
) unless <b>-c</b>, <b>-S</b>, or <b>-E</b> precedes them. Except
for <b>-l</b>, all options are processed before any of the files and apply to
all of the files. Applicable options are passed to each compilation
phase in the order given.

<p>
<dl>

<dt><b>-c</b> </dt>
<dd>    Suppress the loading phase of the compilation, and force an
object file to be produced even if only one program is compiled.

<p></dd>

<dt><b>-g</b> </dt>
<dd>    Produce additional symbol table information for the local debuggers.
<i>lcc</i> warns when <b>-g</b> is unsupported.

<p></dd>

<dt><b>-Wf-g</b><i>n</i><b>,</b><i>x</i></dt>
<dd>
Set the debugging level to <i>n</i> and emit source code as comments
into the generated assembly code; <i>x</i> must be the assembly language
comment character. If <i>n</i> is omitted, it defaults to 1,
which is similar to <b>-g</b>. Omitting <b>,</b><i>x</i> just sets the debugging
level to <i>n</i>.

<p></dd>

<dt><b>-w</b> </dt>
<dd>    Suppress warning diagnostics, such as those announcing unreferenced
statics, locals, and parameters. The line <i>#pragma</i> <i>ref</i> <i>id</i>
simulates a reference to the variable <i>id</i>.

<p></dd>

<dt><b>-d</b><i>n</i> </dt>
<dd>   Generate jump tables for switches whose density is at least <i>n</i>, a
floating point constant between zero and one. The default is
0.5.

<p></dd>

<dt><b>-A</b> </dt>
<dd>    Warns about declarations and casts of function types without
prototypes, assignments between pointers to ints and pointers to
enums, and conversions from pointers to smaller integral types.
A second <b>-A</b> warns about unrecognized control lines, nonANSI language
extensions and source characters in literals, unreferenced
variables and static functions, declaring arrays of incomplete
types, and exceeding <i>some</i> ANSI environmental limits, like more
than 257 cases in switches. It also arranges for duplicate
global definitions in separately compiled files to cause loader
errors.

<p></dd>

<dt><b>-P</b> </dt>
<dd>    Writes declarations for all defined globals on standard error.
Function declarations include prototypes; editing this output
can simplify conversion to ANSI C. This output may not correspond
to the input when there are several typedefs for the same
type.

<p></dd>

<dt><b>-n</b> </dt>
<dd>    Arrange for the compiler to produce code that tests for dereferencing
zero pointers. The code reports the offending file and
line number and calls <a href='abort.3.html'>abort(3)</a>
.

<p></dd>

<dt><b>-O</b> </dt>
<dd>    is ignored.

<p></dd>

<dt><b>-S</b> </dt>
<dd>    Compile the named C programs, and leave the assembler-language
output on corresponding files suffixed ‘.s’ or ‘.asm’.

<p></dd>

<dt><b>-E</b> </dt>
<dd>    Run only the preprocessor on the named C programs and unsuffixed
file arguments, and send the result to the standard output.

<p></dd>

<dt><b>-o</b> </dt>
<dd><i>output</i>
Name the output file <i>output</i>. If <b>-c</b> or <b>-S</b> is specified and there
is exactly one source file, this option names the object or
assembly file, respectively. Otherwise, this option names the
final executable file generated by the loader, and ‘a.out’
(UNIX) or ‘a.exe’ (Windows) is left undisturbed. <i>lcc</i> warns if
<b>-o</b> and <b>-c</b> or <b>-S</b> are given with more than one source file and
ignores the <b>-o</b> option.

<p></dd>

<dt><b>-D</b><i>name=def</i></dt>
<dd>
Define the <i>name</i> to the preprocessor, as if by ‘#define’. If
<i>=def</i> is omitted, the name is defined as 1".

<p></dd>

<dt><b>-U</b><i>name</i> Remove any initial definition of <i>name</i>.</dt>
<dd>

<p></dd>

<dt><b>-I</b><i>dir</i> </dt>
<dd>‘#include’ files whose names do not begin with ‘/’ are always
sought first in the directory of the <i>file</i> arguments, then in
directories named in <b>-I</b> options, then in directories on a standard
list.

<p></dd>

<dt><b>-N</b> </dt>
<dd>    Do not search <i>any</i> of the standard directories for ‘#include’
files. Only those directories specified by subsequent explicit
<b>-I</b> options will be searched, in the order given.

<p></dd>

<dt><b>-B</b><i>str</i> </dt>
<dd>Use the compiler <i>str</i><b>rcc</b> instead of the default version. Note
that <i>str</i> often requires a trailing slash. On Sparcs only,
<b>-Bstatic</b> and <b>-Bdynamic</b> are passed to the loader; see <a href='ld.1.html'>ld(1)</a>
.

<p></dd>

<dt><b>-Wo-lccdir=</b><i>dir</i></dt>
<dd>
Find the preprocessor, compiler proper, and include directory in
the directory <i>dir/</i> or <i>dir\.</i> If the environment variable <b>LCCDIR</b>
is defined, it gives this directory. <i>lcc</i> warns when this option
is unsupported.

<p></dd>

<dt><b>-Wf-unsigned_char=1</b></dt>
<dd>
<b>-Wf-unsigned_char=0</b>
makes plain <b>char</b> an unsigned (1) or signed (0) type; by default,
<b>char</b> is signed.

<p></dd>

<dt><b>-Wf-wchar_t=unsigned_char</b></dt>
<dd>
<b>-Wf-wchar_t=unsigned_short</b>
<b>-Wf-wchar_t=unsigned_int</b>
Makes wide characters the type indicated; by default, wide characters
are unsigned short ints, and <b>wchar_t</b> is a typedef for
unsigned short defined in stddef.h. The definition for <b>wchar_t</b>
in stddef.h must correspond to the type specified.

<p></dd>

<dt><b>-v</b> </dt>
<dd>    Print commands as they are executed; some of the executed programs
are directed to print their version numbers. More than
one occurrence of <b>-v</b> causes the commands to be printed, but <i>not</i>
executed.

<p></dd>

<dt><b>-help</b> or <b>-?</b></dt>
<dd>
Print a message on the standard error summarizing <i>lcc</i>’s options
and giving the values of the environment variables <b>LCCINPUTS</b> and
<b>LCCDIR</b>, if they are defined. Under Windows, the values of
<b>include</b> and <b>lib</b> are also given, if they are defined.

<p></dd>

<dt><b>-b</b> </dt>
<dd>    Produce code that counts the number of times each expression is
executed. If loading takes place, arrange for a <b>prof.out</b> file
to be written when the object program terminates. A listing
annotated with execution counts can then be generated with
<a href='bprint.1.html'>bprint(1)</a>
. <i>lcc</i> warns when <b>-b</b> is unsupported. <b>-Wf-C</b> is similar,
but counts only the number of function calls.

<p></dd>

<dt><b>-p</b> </dt>
<dd>    Produce code that counts the number of times each function is
called. If loading takes place, replace the standard startup
function by one that automatically calls <a href='monitor.3.html'>monitor(3)</a>
 at the start
and arranges to write a <b>mon.out</b> file when the object program
terminates normally. An execution profile can then be generated
with <a href='prof.1.html'>prof(1)</a>
. <i>lcc</i> warns when <b>-p</b> is unsupported.

<p></dd>

<dt><b>-pg</b> </dt>
<dd>   Causes the compiler to produce counting code like <b>-p</b>, but
invokes a run-time recording mechanism that keeps more extensive
statistics and produces a <b>gmon.out</b> file at normal termination.
Also, a profiling library is searched, in lieu of the standard C
library. An execution profile can then be generated with
<a href='gprof.1.html'>gprof(1)</a>
. <i>lcc</i> warns when <b>-pg</b> is unsupported.

<p></dd>

<dt><b>-t</b><i>name</i></dt>
<dd>
</dd>

<dt><b>-t</b> </dt>
<dd>    Produce code to print the name of the function, an activation
number, and the name and value of each argument at function
entry. At function exit, produce code to print the name of the
function, the activation number, and the return value. By
default, <i>printf</i> does the printing; if <i>name</i> appears, it does.
For null <i>char*</i> values, (null) is printed. <b>-target</b> <i>name</i> is
accepted, but ignored.

<p></dd>

<dt><b>-tempdir=</b><i>dir</i></dt>
<dd>
Store temporary files in the directory <i>dir/</i> or <i>dir\.</i> The
default is usually <b>/tmp</b>.

<p></dd>

<dt><b>-W</b><i>xarg</i> pass argument <i>arg</i> to the program indicated by <i>x</i>; <i>x</i> can be one of</dt>
<dd>
<b>p</b>, <b>f</b>, <b>a</b>, or <b>l</b>, which refer, respectively, to the preprocessor,
the compiler proper, the assembler, and the loader. <i>arg</i> is
passed as given; if a <b>-</b> is expected, it must be given explicitly.
<b>-Wo</b><i>arg</i> specifies a system-specific option, <i>arg</i>.

<p></dd>
</dl>
<p>
Other arguments are taken to be either loader option arguments, or Ccompatible
object programs, typically produced by an earlier <i>lcc</i> run,
or perhaps libraries of C-compatible routines. Duplicate object files
are ignored. These programs, together with the results of any compilations
specified, are loaded (in the order given) to produce an executable
program with name <b>a.out</b> (UNIX) or <b>a.exe</b> (Windows).

<p><p>
<i>lcc</i> assigns the most frequently referenced scalar parameters and locals
to registers whenever possible. For each block, explicit register declarations
are obeyed first; remaining registers are assigned to automatic
locals if they are ‘referenced’ at least 3 times. Each top-level
occurrence of an identifier counts as 1 reference. Occurrences in a
loop, either of the then/else arms of an if statement, or a case in a
switch statement each count, respectively, as 10, 1/2, or 1/10 references.
These values are adjusted accordingly for nested control structures.
<b>-Wf-a</b> causes <i>lcc</i> to read a <b>prof.out</b> file from a previous execution
and to use the data therein to compute reference counts (see <b>-b</b>).

<p><p>
<i>lcc</i> is a cross compiler; <b>-Wf-target=</b><i>target/os</i> causes <i>lcc</i> to generate
code for <i>target</i> running the operating system denoted by <i>os</i>. The supported
<i>target/os</i> combinations may include

<p>
<dl>

<dt>alpha/osf </dt>
<dd>     ALPHA, OSF 3.2
</dd>

<dt>mips/irix </dt>
<dd>     big-endian MIPS, IRIX 5.2
</dd>

<dt>mips/ultrix </dt>
<dd>   little-endian MIPS, ULTRIX 4.3
sparc/solaris SPARC, Solaris 2.3
</dd>

<dt>x86/win32 </dt>
<dd>     x86, Windows NT 4.0/Windows 95/98
</dd>

<dt>x86/linux </dt>
<dd>     x86, Linux
</dd>

<dt>symbolic </dt>
<dd>      text rendition of the generated code
</dd>

<dt>null </dt>
<dd>          no output

<p></dd>
</dl>
<p>
For <b>-Wf-target=symbolic</b>, the option <b>-Wf-html</b> causes the text rendition
to be emitted as HTML.

<p>
<h2><a name='sect3' href='#toc3'><b>Limitations</b></a></h2>

<p>
<i>lcc</i> accepts the C programming language as described in the ANSI standard.
If <i>lcc</i> is used with the GNU C preprocessor, the <b>-Wp-trigraphs</b>
option is required to enable trigraph sequences.

<p><p>
Plain int bit fields are signed. Bit fields are aligned like unsigned
integers but are otherwise laid out as by most standard C compilers.
Some compilers, such as the GNU C compiler, may choose other, incompatible
layouts.

<p><p>
Likewise, calling conventions are intended to be compatible with the
host C compiler, except possibly for passing and returning structures.
Specifically, <i>lcc</i> passes and returns structures like host ANSI C compilers
on most targets, but some older host C compilers use different
conventions. Consequently, calls to/from such functions compiled with
older C compilers may not work. Calling a function that returns a
structure without declaring it as such violates the ANSI standard and
may cause a fault.

<p>
<h2><a name='sect4' href='#toc4'><b>Files</b></a></h2>

<p>
The file names listed below are <i>typical</i>, but vary among installations;
installation-dependent variants can be displayed by running <i>lcc</i> with
the <b>-v</b> option.

<p>
<dl>

<dt>file.{c,C} </dt>
<dd>             input file
</dd>

<dt>file.{s,asm} </dt>
<dd>           assembly-language file
</dd>

<dt>file.{o,obj} </dt>
<dd>           object file
</dd>

<dt>a.{out,exe} </dt>
<dd>            loaded output
</dd>

<dt>/tmp/lcc* </dt>
<dd>              temporary files
</dd>

<dt>$LCCDIR/cpp </dt>
<dd>            preprocessor
</dd>

<dt>$LCCDIR/rcc </dt>
<dd>            compiler
$LCCDIR/liblcc.{a,lib} <i>lcc</i>-specific library
</dd>

<dt>/lib/crt0.o </dt>
<dd>            runtime startup (UNIX)
</dd>

<dt>/lib/[gm]crt0.o </dt>
<dd>        startups for profiling (UNIX)
</dd>

<dt>/lib/libc.a </dt>
<dd>            standard library (UNIX)
</dd>

<dt>$LCCDIR/include </dt>
<dd>        ANSI standard headers
</dd>

<dt>/usr/local/include </dt>
<dd>     local headers
</dd>

<dt>/usr/include </dt>
<dd>           traditional headers
</dd>

<dt>prof.out </dt>
<dd>               file produced for <a href='bprint.1.html'>bprint(1)</a>

</dd>

<dt>mon.out </dt>
<dd>                file produced for <a href='prof.1.html'>prof(1)</a>

</dd>

<dt>gmon.out </dt>
<dd>               file produced for <a href='gprof.1.html'>gprof(1)</a>


<p></dd>
</dl>
<p>
<i>lcc</i> predefines the macro <b>__LCC__</b> on all systems. It may also predefine
some installation-dependent symbols; option <b>-v</b> exposes them.

<p>
<h2><a name='sect5' href='#toc5'><b>See</b> <b>Also</b></a></h2>

<p>
C. W. Fraser and D. R. Hanson, <i>A</i> <i>Retargetable</i> <i>C</i> <i>Compiler:</i> <i>Design</i> <i>and</i>
<i>Implementation,</i> Addison-Wesley, 1995. ISBN 0-8053-1670-1.

<p><p>
The World-Wide Web page at http://www.cs.princeton.edu/software/lcc/.

<p><p>
S. P. Harbison and G. L. Steele, Jr., <i>C:</i> <i>A</i> <i>Reference</i> <i>Manual,</i> 4th ed.,
Prentice-Hall, 1995.

<p><p>
B. W. Kernighan and D. M. Ritchie, <i>The</i> <i>C</i> <i>Programming</i> <i>Language,</i> 2nd ed.,
Prentice-Hall, 1988.

<p><p>
American National Standards Inst., <i>American</i> <i>National</i> <i>Standard</i> <i>for</i>
<i>Information</i> <i>Systems&mdash;</i><i>Programming</i> <i>Language</i> <i>C</i>, ANSI X3.159-1989, New York,
1990.

<p>
<h2><a name='sect6' href='#toc6'><b>Bugs</b></a></h2>

<p>
Mail bug reports along with the shortest preprocessed program that
exposes them and the details reported by <i>lcc</i>’s <b>-v</b> option to lccbugs@princeton.edu.
The WWW page at URL http://www.cs.princeton.edu/software/lcc/
includes detailed instructions for reporting
bugs.

<p><p>
The ANSI standard headers conform to the specifications in the Standard,
which may be too restrictive for some applications, but necessary
for portability. Functions given in the ANSI headers may be missing
from some local C libraries (e.g., wide-character functions) or may not
correspond exactly to the local versions; for example, the ANSI standard
stdio.h specifies that <i>printf</i>, <i>fprintf</i>, and <i>sprintf</i> return the
number of characters written to the file or array, but some existing
libraries don’t implement this convention.

<p><p>
On the MIPS and SPARC, old-style variadic functions must use varargs.h
from MIPS or Sun. New-style is recommended.

<p><p>
With <b>-b</b>, files compiled <i>without</i> <b>-b</b> may cause <i>bprint</i> to print erroneous
call graphs. For example, if <b>f</b> calls <b>g</b> calls <b>h</b> and <b>f</b> and <b>h</b> are compiled
with <b>-b</b>, but <b>g</b> is not, <b>bprint</b> will report that <b>f</b> called <b>h</b>. The
total number of calls is correct, however.
<p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Limitations</a></li>
<li><a name='toc4' href='#sect4'>Files</a></li>
<li><a name='toc5' href='#sect5'>See Also</a></li>
<li><a name='toc6' href='#sect6'>Bugs</a></li>
</ul>
</body>
</html>
