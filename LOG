From lcc 3.6 to 4.0:

Changes:

see doc/4.html for changes in the code-generation interface.

on the SPARC, lcc now emits .type and .size directives unconditionally.

on the x86, constants are now emitted into the text segment.

Errors fixed:

Erroneously complained about unknown sizes for some const fields, eg,
typedef struct foo ref; struct foo { const ref *q; int a; };
f(ref *p, int i) { return p->q[i].a; }

-A -A erroneously complained about static main's that didn't conform to
the ANSI-mandated `int main(void)' or `int main(int, char **)'.

Silently generated incorrect code for a structure copy with a
post-incremented target, eg,
struct { int x; } data = {1}, copy[2], *q = copy;
main() { *q++ = data; }

Generated incorrect values in some expressions with constant pointers.

Silently truncated string literals longer than 4095 characters.

on the MIPS, sometimes generated an incorrect frame size and thus a
crash when floating-point registers were saved.

on the SPARC, erroneously reused a register variable as a temporary when
the variable is compiler-generated.

on the SPARC with -b, emitted incorrect code for returning structs.

on the x86, conversion from float to int rounded instead of truncated
with the default floating-point mode.

$Id$
